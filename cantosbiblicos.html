<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>El Gran Cancionero de Mam√°</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root { --color-iglesia: #d35400; --fondo: #fdfaf6; }
        body { font-family: 'Georgia', serif; background: var(--fondo); margin: 0; padding: 15px; }
        .header { text-align: center; background: white; padding: 20px; border-radius: 15px; border: 2px solid var(--color-iglesia); margin-bottom: 20px; }
        .search-box { display: flex; gap: 8px; }
        #buscador { flex: 1; padding: 15px; border-radius: 12px; border: 2px solid #ddd; font-size: 16px; outline: none; }
        .btn-buscar { background: var(--color-iglesia); color: white; border: none; padding: 0 20px; border-radius: 12px; font-size: 20px; }
        .canto-card { background: white; padding: 35px 20px; border-radius: 15px; text-align: center; margin-bottom: 25px; border: 1px solid #e0d0c0; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .titulo-canto { color: var(--color-iglesia); font-size: 24px; font-weight: bold; margin-bottom: 15px; text-transform: uppercase; }
        .letra-canto { font-size: 19px; white-space: pre-line; line-height: 1.8; color: #34495e; }
        .btn-pdf { position: fixed; bottom: 15px; left: 50%; transform: translateX(-50%); background: #27ae60; color: white; border: none; padding: 18px; border-radius: 35px; width: 90%; font-weight: bold; z-index: 100; }
        #area-pdf { display: none; }
    </style>
</head>
<body>

<div class="header">
    <h1>üìñ LIBRO DE CANTOS DE MAM√Å</h1>
    <div class="search-box">
        <input type="search" id="buscador" placeholder="Buscar canto..." oninput="filtrar()">
        <button onclick="buscarExterno()" class="btn-buscar">üîç</button>
    </div>
</div>

<div id="visor"></div>
<button class="btn-pdf" onclick="generarPDF()">üì• DESCARGAR LIBRO COMPLETO (PDF)</button>
<div id="area-pdf"></div>

<script>
    const cantos = [
        { titulo: "Te alabo, oh Padre", letra: "Te alabo, oh Padre, por tu gran amor,\nporque eres eterno, porque eres el Se√±or.\nTu amor es eterno, tu amor es verdad,\ngracias te damos por tu bondad." },
        { titulo: "Este es mi Hijo", letra: "Este es mi Hijo muy amado,\nen quien tengo mis complacencias.\nEscuchadle, dice el Se√±or,\n√âl es la luz, √âl es el amor." },
        { titulo: "Oh qu√© dulce", letra: "Oh qu√© dulce, Jes√∫s m√≠o,\nqu√© delicia es estar junto a ti.\nEn la Eucarist√≠a te encuentro,\ny mi alma se llena de paz aqu√≠." },
        { titulo: "Por el trigo y la vid", letra: "Por el trigo y por la vid,\npor el vino y por el pan,\nte damos gracias Se√±or,\nen tu mesa de unidad." },
        { titulo: "Gracias Jes√∫s", letra: "Gracias Jes√∫s, gracias te doy,\npor haberme encontrado hoy.\nTu palabra es mi camino,\ntu cuerpo es mi destino." },
        { titulo: "Gracias Se√±or", letra: "Gracias Se√±or, porque eres como eres,\ngracias porque me quieres,\naunque soy pecador." },
        { titulo: "Esto que te doy", letra: "Esto que te doy es vino y pan Se√±or,\nesto que te doy es mi trabajo.\nEs mi coraz√≥n, mi alma,\nes mi cuerpo y mi raz√≥n,\nel esfuerzo de mi caminar." },
        { titulo: "Dichosos", letra: "Dichosos los pobres de esp√≠ritu,\nporque de ellos es el reino de Dios.\nDichosos los que lloran,\nporque ellos ser√°n consolados." },
        { titulo: "Vaso Nuevo", letra: "Gracias quiero darte por amarme,\ngracias quiero darte yo a ti Se√±or.\nHoy soy feliz porque te conoc√≠,\ngracias por amarme a mi tambi√©n.\n\nYo quiero ser, Se√±or amado,\ncomo el barro en manos del alfarero.\nToma mi vida y hazla de nuevo,\nyo quiero ser un vaso nuevo." },
        { titulo: "Una mirada de fe", letra: "Una mirada de fe,\nes la que puede salvar al pecador.\nY si t√∫ miras a Cristo Jes√∫s,\n√âl te perdonar√°." },
        { titulo: "Hombres de Valor", letra: "¬øQui√©n ir√° abriendo caminos?\n¬øQui√©n ir√° sembrando la paz?\nHombres de valor es lo que Dios busca,\nhombres que se entreguen por amor." },
        { titulo: "T√∫ me has seducido", letra: "Se√±or, T√∫ me has seducido,\ny yo me dej√© seducir.\nMe has forzado y has podido,\neres m√°s fuerte que yo." },
        { titulo: "Saber que vendr√°s", letra: "En este mundo que Cristo nos da,\nhacemos la ofrenda del pan.\nEl pan de nuestro trabajo sin fin,\ny el vino de nuestro cantar." },
        { titulo: "Acu√©rdate", letra: "Acu√©rdate, oh Virgen Mar√≠a,\nque jam√°s se ha o√≠do decir,\nque ninguno de los que han acudido a ti,\nhaya sido abandonado." },
        { titulo: "Renu√©vame", letra: "Renu√©vame, Se√±or Jes√∫s,\nya no quiero ser igual.\nPon en m√≠ tu coraz√≥n." },
        { titulo: "Tan cerca de m√≠", letra: "Tan cerca de m√≠, tan cerca de m√≠,\nque hasta lo puedo tocar,\nJes√∫s est√° aqu√≠." },
        { titulo: "Santo, Santo, Santo", letra: "Santo, Santo, Santo es el Se√±or,\nDios del universo.\nLlenos est√°n el cielo y la tierra de tu gloria." },
        { titulo: "Cordero de Dios", letra: "Cordero de Dios que quitas el pecado del mundo,\nten piedad de nosotros y danos la paz." },
        { titulo: "Alt√≠simo Se√±or", letra: "Alt√≠simo Se√±or, que supiste juntar\na un tiempo en el altar ser cordero y pastor." },
        { titulo: "Humildes Gracias", letra: "Humildes gracias te doy, Se√±or,\npor este d√≠a que termina hoy." },
        { titulo: "Caminar√©", letra: "Caminar√© en presencia del Se√±or.\nAmo al Se√±or porque escucha mi voz suplicante." },
        { titulo: "Hambre de Dios", letra: "No podemos caminar con hambre bajo el sol.\nDanos siempre el mismo pan:\ntu cuerpo y sangre, Se√±or." },
        { titulo: "Id y ense√±ad", letra: "Sois la semilla que ha de crecer,\nsois estrella que ha de brillar.\nSois levadura, sois grano de sal,\nantorcha que debe alumbrar." },
        { titulo: "Pescador de Hombres", letra: "T√∫ has venido a la orilla,\nno has buscado ni a sabios ni a ricos,\ntan solo quieres que yo te siga." },
        { titulo: "Cantemos al amor", letra: "Cantemos al amor de los amores,\ncantemos al Se√±or.\nDios est√° aqu√≠, venid adoradores,\nadoremos a Cristo Redentor." },
        { titulo: "Entrar√©", letra: "Entrar√©, entrar√©, entrar√© a su presencia.\nEn libertad, por su amor,\nel Esp√≠ritu me lleva." },
        { titulo: "Me gozar√©", letra: "Me gozar√©, me alegrar√©,\ny cantar√© al Se√±or.\nPorque grandes son sus maravillas." },
        { titulo: "Se√±or, no soy digno", letra: "Se√±or, no soy digno de que entres en mi casa,\npero una palabra tuya bastar√° para sanarme." },
        { titulo: "La paz est√© con nosotros", letra: "La paz est√© con nosotros,\nla paz est√© con nosotros,\nla paz est√© con nosotros,\nsiempre, siempre, siempre." },
        { titulo: "Perd√≥n Se√±or", letra: "Perd√≥n Se√±or, perd√≥n por mis errores.\nTen piedad de m√≠, por tu bondad." }
    ];

    function cargar() {
        const v = document.getElementById('visor');
        v.innerHTML = '';
        cantos.forEach(c => {
            v.innerHTML += `<div class="canto-card"><div class="titulo-canto">${c.titulo}</div><div class="letra-canto">${c.letra}</div></div>`;
        });
    }

    function filtrar() {
        const b = document.getElementById('buscador').value.toLowerCase();
        const cards = document.querySelectorAll('.canto-card');
        cards.forEach((card, i) => {
            card.style.display = cantos[i].titulo.toLowerCase().includes(b) ? 'block' : 'none';
        });
    }

    function buscarExterno() {
        const q = document.getElementById('buscador').value;
        if(q) window.open("https://www.google.com/search?q=" + encodeURIComponent(q) + " +letra +catolico", '_blank');
    }

    function generarPDF() {
        const area = document.getElementById('area-pdf');
        area.innerHTML = '<h1 style="text-align:center; color:#d35400;">CANCIONERO DE MAM√Å</h1>';
        area.style.display = 'block';
        cantos.forEach(c => {
            area.innerHTML += `<div style="page-break-after:always; text-align:center; padding:50px;">
                <h1 style="color:#d35400; font-size:30px;">${c.titulo}</h1>
                <p style="font-size:22px; white-space:pre-line; line-height:1.8;">${c.letra}</p>
            </div>`;
        });
        html2pdf().set({ margin:0.5, filename:'Cancionero_Completo.pdf', jsPDF:{unit:'in', format:'letter'} }).from(area).save().then(() => area.style.display='none');
    }

    cargar();
</script>
</body>
</html>
