<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Cancionero de Mam√° - Edici√≥n Centrada</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        body { font-family: 'Georgia', serif; background: #fdfaf6; color: #2c3e50; padding: 20px; }
        .container { max-width: 900px; margin: auto; }
        
        /* Buscador elegante */
        .search-box { text-align: center; margin-bottom: 40px; }
        #buscador { width: 80%; padding: 15px; border-radius: 30px; border: 2px solid #d35400; font-size: 18px; outline: none; text-align: center; }

        /* Contenedor de Cantos en Pantalla */
        .visor-canciones { display: flex; flex-direction: column; gap: 50px; }
        
        .canto-card { 
            background: white; 
            padding: 40px; 
            border-radius: 15px; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            text-align: center; /* ESTO CENTRA TODO */
            border: 1px solid #eee;
        }

        .titulo-canto { color: #d35400; font-size: 28px; margin-bottom: 20px; border-bottom: 2px solid #f39c12; display: inline-block; padding-bottom: 5px; }
        
        .letra-canto { 
            font-size: 20px; 
            line-height: 1.6; 
            white-space: pre-line; /* Mantiene los saltos de l√≠nea */
            color: #34495e;
        }

        /* Bot√≥n de impresi√≥n flotante */
        .btn-flotante { 
            position: fixed; bottom: 30px; right: 30px; 
            background: #d35400; color: white; border: none; 
            padding: 20px; border-radius: 50px; cursor: pointer; 
            font-weight: bold; box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            font-size: 16px;
        }
        .btn-flotante:hover { background: #e67e22; transform: scale(1.05); }

        /* Estilos exclusivos para el PDF */
        #area-pdf { display: none; text-align: center; }
        .pagina-pdf { page-break-after: always; padding: 50px; }
    </style>
</head>
<body>

<div class="container">
    <div class="search-box">
        <h1>üìñ Mis Cantos Preferidos</h1>
        <input type="text" id="buscador" placeholder="¬øQu√© canto buscamos hoy, mam√°?" onkeyup="filtrar()">
    </div>
    
    <div id="visor" class="visor-canciones">
        </div>

    <button class="btn-flotante" onclick="generarPDF()">üì• GUARDAR TODO EN PDF</button>
</div>

<div id="area-pdf"></div>

<script>
    const cantos = [
        { 
            titulo: "Canto de Alegr√≠a", 
            letra: `Alegr√≠a de vivir,
                    en este d√≠a especial,
                    canto porque soy feliz,
                    en tu presencia celestial.` 
        },
        { 
            titulo: "Paz en la Tierra", 
            letra: `La paz est√© con nosotros,
                    que el mundo se llene de amor,
                    unidos todos de la mano,
                    le cantamos al Creador.` 
        },
        { 
            titulo: "Hacia T√≠", 
            letra: `Caminamos hacia t√≠ se√±or,
                    con esperanza y mucha fe,
                    gu√≠anos por el buen camino,
                    que siempre te seguir√©.` 
        }
    ];

    function mostrarCantos() {
        const visor = document.getElementById('visor');
        visor.innerHTML = '';
        cantos.forEach((canto) => {
            visor.innerHTML += `
                <div class="canto-card">
                    <div class="titulo-canto">${canto.titulo}</div>
                    <div class="letra-canto">${canto.letra}</div>
                </div>
            `;
        });
    }

    function filtrar() {
        const busqueda = document.getElementById('buscador').value.toLowerCase();
        const cards = document.querySelectorAll('.canto-card');
        
        cards.forEach((card, index) => {
            const titulo = cantos[index].titulo.toLowerCase();
            card.style.display = titulo.includes(busqueda) ? 'block' : 'none';
        });
    }

    function generarPDF() {
        const areaPdf = document.getElementById('area-pdf');
        areaPdf.innerHTML = '';
        areaPdf.style.display = 'block';

        cantos.forEach(canto => {
            areaPdf.innerHTML += `
                <div class="pagina-pdf">
                    <h1 style="color: #d35400; font-size: 35px;">${canto.titulo}</h1>
                    <div style="font-size: 22px; line-height: 1.8; white-space: pre-line;">${canto.letra}</div>
                </div>
            `;
        });

        const opciones = {
            margin: 0.5,
            filename: 'Libro_de_Cantos_Centrado.pdf',
            html2canvas: { scale: 2 },
            jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
        };

        html2pdf().set(opciones).from(areaPdf).save().then(() => {
            areaPdf.style.display = 'none';
        });
    }

    mostrarCantos();
</script>

</body>
</html>
