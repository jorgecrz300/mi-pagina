<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cancionero de Mam√°</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root { --naranja: #d35400; --verde: #27ae60; --blanco: #ffffff; }
        body { font-family: sans-serif; background: #f4f4f4; margin: 0; padding: 15px; }
        
        .header { text-align: center; padding: 10px; background: white; border-radius: 10px; margin-bottom: 20px; border-bottom: 4px solid var(--naranja); }
        h1 { color: var(--naranja); font-size: 20px; margin: 0; }

        .lista { display: flex; flex-direction: column; gap: 10px; }
        
        /* Tarjeta de cada m√∫sica - Totalmente independiente */
        .tarjeta-musica { 
            background: var(--blanco); padding: 15px; border-radius: 8px; 
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .titulo { font-weight: bold; font-size: 14px; color: #333; text-transform: uppercase; }
        
        .btn-pdf { 
            background: var(--verde); color: white; border: none; 
            padding: 10px; border-radius: 5px; cursor: pointer; font-weight: bold;
        }

        /* Molde invisible */
        #molde-impresion { display: none; }
    </style>
</head>
<body>

<div class="header">
    <h1>üìñ MI CANCIONERO PERSONAL</h1>
</div>

<div class="lista" id="lista-canciones">
    </div>

<div id="molde-impresion"></div>

<script>
    // LISTA DE M√öSICAS (Cada una es independiente)
    const canciones = [
        { 
            nombre: "YO SOY EL PAN DE VIDA", 
            letra: "Yo soy el Pan de Vida,\nel que viene a m√≠ no tendr√° hambre,\nel que cree en m√≠ no tendr√° sed.\n\nNadie puede venir a m√≠,\nsi mi Padre no lo llama.\n\nY yo lo resucitar√©,\ny yo lo resucitar√©,\ny yo lo resucitar√© en el d√≠a final." 
        },
        { 
            nombre: "VASO NUEVO", 
            letra: "Gracias quiero darte por amarme,\ngracias quiero darte yo a ti Se√±or.\nHoy soy feliz porque te conoc√≠,\ngracias por amarme a mi tambi√©n.\n\nYo quiero ser, Se√±or amado,\ncomo el barro en manos del alfarero.\nToma mi vida y hazla de nuevo,\nyo quiero ser un vaso nuevo." 
        },
        { 
            nombre: "TE ALABO OH PADRE", 
            letra: "Te alabo oh Padre por tu gran amor,\nporque eres eterno, porque eres el Se√±or.\n\nTu amor es eterno, tu amor es verdad,\ngracias te damos por tu bondad.\n\nGracias por la vida, gracias por el sol,\ngracias te damos por tu amor Se√±or." 
        },
        { 
            nombre: "PESCADOR DE HOMBRES", 
            letra: "T√∫ has venido a la orilla,\nno has buscado ni a sabios ni a ricos,\ntan solo quieres que yo te siga.\n\nSe√±or, me has mirado a los ojos,\nsonriendo has dicho mi nombre,\nen la arena he dejado mi barca,\njunto a ti buscar√© otro mar." 
        },
        { 
            nombre: "UNA MIRADA DE FE", 
            letra: "Una mirada de fe, una mirada de fe\nes la que puede salvar al pecador.\n\nY si t√∫ miras a Cristo Jes√∫s\n√âl te perdonar√°,\nporque una mirada de fe\nes la que puede salvar al pecador." 
        },
        { 
            nombre: "ESTO QUE TE DOY", 
            letra: "Esto que te doy es vino y pan Se√±or,\nesto que te doy es mi trabajo.\nEs mi coraz√≥n, mi alma,\nes mi cuerpo y mi raz√≥n,\nel esfuerzo de mi caminar." 
        },
        { 
            nombre: "HOY PERD√ìNAME", 
            letra: "Hoy perd√≥name, hoy por siempre,\nsin mirar la mentira, lo vac√≠o de mi dar.\nSin mirar a donde voy ni mi paso al caminar.\n\nSi camin√© a la derecha,\no si me fui a la izquierda,\nhoy te pido perd√≥n Se√±or." 
        }
    ];

    const contenedor = document.getElementById('lista-canciones');

    // Crear la lista en pantalla
    canciones.forEach((canto, index) => {
        const div = document.createElement('div');
        div.className = 'tarjeta-musica';
        div.innerHTML = `
            <span class="titulo">${canto.nombre}</span>
            <button class="btn-pdf" onclick="generarPDF(${index})">DESCARGAR PDF</button>
        `;
        contenedor.appendChild(div);
    });

    // Funci√≥n que fabrica el PDF de UNA SOLA m√∫sica
    function generarPDF(index) {
        const musica = canciones[index];
        const molde = document.getElementById('molde-impresion');
        
        // Limpiamos y preparamos el contenido
        molde.style.display = 'block';
        molde.innerHTML = `
            <div style="padding: 40px; font-family: serif; text-align: center;">
                <h1 style="font-size: 30pt; color: #d35400; text-transform: uppercase; border-bottom: 2px solid black; padding-bottom: 10px;">${musica.nombre}</h1>
                <p style="font-size: 22pt; line-height: 1.6; white-space: pre-line; margin-top: 30px;">${musica.letra}</p>
            </div>
        `;

        const config = {
            margin: 0.5,
            filename: musica.nombre + '.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2 },
            jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
        };

        // Descarga el PDF y luego esconde el molde de nuevo
        html2pdf().set(config).from(molde).save().then(() => {
            molde.style.display = 'none';
        });
    }
</script>

</body>
</html>
