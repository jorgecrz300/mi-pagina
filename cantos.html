<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualizador de Cantos</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        body { font-family: 'Georgia', serif; background: #333; margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; }
        .barra { width: 100%; background: #111; padding: 15px; display: flex; justify-content: space-around; position: sticky; top: 0; z-index: 100; }
        .btn { padding: 12px 20px; border-radius: 8px; border: none; font-weight: bold; cursor: pointer; text-decoration: none; color: white; font-family: sans-serif; }
        #hoja { background: white; width: 95%; max-width: 800px; margin: 20px; padding: 60px 40px; box-sizing: border-box; box-shadow: 0 0 20px rgba(0,0,0,0.5); text-align: center; min-height: 100vh; }
        h1 { color: #d35400; font-size: 26pt; border-bottom: 2px solid #eee; padding-bottom: 10px; text-transform: uppercase; margin-bottom: 30px; }
        p { font-size: 19pt; line-height: 1.7; white-space: pre-line; color: black; text-align: center; margin: 0; width: 100%; }
        @media print { .barra { display: none; } #hoja { box-shadow: none; margin: 0; width: 100%; } }
    </style>
</head>
<body>

<div class="barra">
    <a href="javascript:history.back()" class="btn" style="background:#d35400;">‚¨Ö VOLVER</a>
    <button onclick="bajarPDF()" class="btn" style="background:#27ae60;">DESCARGAR PDF üì•</button>
</div>

<div id="hoja">
    <h1 id="titulo">Cargando...</h1>
    <p id="letra"></p>
</div>

<script>
    const biblioteca = {
        /* --- BLOQUE 1: ORIGINALES --- */
        "dios_esta": { t: "DIOS EST√Å AQU√ç", l: "CORO:\nDios est√° aqu√≠,\ntan cierto como el aire que respiro,\ntan cierto como la ma√±ana se levanta el sol,\ntan cierto como que este canto lo puedes o√≠r.\n\n1. Lo puedes sentir a tu lado en este mismo instante,\lo puedes sentir muy dentro de tu coraz√≥n.\nLo puedes sentir en ese problema que tienes,\nJes√∫s est√° aqu√≠, si quieres lo puedes seguir.\n\n2. Santo, Santo, Santo, mi coraz√≥n te adora,\nmi coraz√≥n te sabe decir: ¬°Santo eres T√∫!" },
        "pescador": { t: "PESCADOR DE HOMBRES", l: "1. T√∫ has venido a la orilla,\nno has buscado ni a sabios ni a ricos,\ntan solo quieres que yo te siga.\n\nCORO:\nSe√±or, me has mirado a los ojos,\nsonriendo has dicho mi nombre.\nEn la arena he dejado mi barca:\njunto a Ti buscar√© otro mar.\n\n2. T√∫ sabes bien lo que tengo,\nen mi barca no hay oro ni espadas,\ntan solo redes y mi trabajo.\n\n3. T√∫ necesitas mis manos,\nmi cansancio que a otros descanse,\namor que quiera seguir amando.\n\n4. T√∫ pescador de otros lagos,\nansia eterna de almas que esperan.\nAmigo bueno que as√≠ me llamas." },
        "vaso_nuevo": { t: "VASO NUEVO", l: "1. Gracias quiero darte por amarme,\ngracias quiero darte yo a Ti Se√±or.\nHoy soy feliz porque te conoc√≠,\ngracias por amarme a m√≠ tambi√©n.\n\nCORO:\nYo quiero ser, Se√±or amado,\ncomo el barro en manos del alfarero.\nToma mi vida y hazla de nuevo,\nyo quiero ser un vaso nuevo." },
        "entre_manos": { t: "ENTRE TUS MANOS", l: "CORO:\nEntre tus manos pongo mi vida Se√±or,\nentre tus manos pongo mi existir.\nHay que morir para vivir,\nentre tus manos conf√≠o mi ser.\n\n1. Si el grano de trigo no muere,\nsi no muere solo quedar√°,\npero si muere en abundancia dar√°\nun fruto eterno que no morir√°." },
        "pan_vida": { t: "YO SOY EL PAN DE VIDA", l: "1. Yo soy el Pan de Vida,\nel que viene a m√≠ no tendr√° hambre,\nel que cree en m√≠ no tendr√° sed.\nNadie puede venir a m√≠,\nsi mi Padre no lo llama.\n\nCORO:\nY Yo lo resucitar√©,\ny Yo lo resucitar√©,\ny Yo lo resucitar√© en el d√≠a final." },

        /* --- BLOQUE 2: CANCIONES LARGAS (GUADALUPANA, ETC) --- */
        "la_guadalupana": { t: "LA GUADALUPANA", l: "1. Desde el cielo una hermosa ma√±ana (bis),\nla Guadalupana (bis), la Guadalupana baj√≥ al Tepeyac.\n\n2. Su llegada llen√≥ de alegr√≠a (bis),\nde luz y armon√≠a (bis), de luz y armon√≠a todo el An√°huac.\n\n3. Junto al monte pasaba Juan Diego (bis),\ny acercose luego (bis), y acercose luego al o√≠r cantar.\n\n4. Juan Dieguito la Virgen le dijo (bis),\neste cerro elijo (bis), este cerro elijo para hacer mi altar.\n\n5. En la tilma entre rosas pintadas (bis),\nsu imagen amada (bis), su imagen amada se dign√≥ dejar." },
        "tu_reinaras": { t: "¬°T√ö REINAR√ÅS!", l: "1. ¬°T√∫ reinar√°s! Este es el grito\nque ardiente exhala nuestra fe.\n¬°T√∫ reinar√°s! Oh Rey bendito,\npues t√∫ dijiste: ¬°Reinar√©!\n\nCORO:\nReine Jes√∫s por siempre,\nreine su ley en nuestra patria, en nuestro suelo.\nQue es el √∫nico sendero,\nque nos conduce hasta el cielo.\n\n2. ¬°T√∫ reinar√°s! Dulce esperanza,\nque el alma llena de placer.\nHabr√° por fin paz y bonanza,\nficidad habr√° doquier." },

        /* --- BLOQUE 3: LA LIBRETA DE MAM√Å (TRANSCRIPCI√ìN EXACTA) --- */
        "humildes_gracias": { t: "HUMILDES GRACIAS", l: "Humildes gracias demos a Dios\nque en una hostia todo se dio.\n\nCORO:\nGracias mil veces, gracias mil veces,\nhumildes gracias demos a Dios. (2)\n\n1. El que en los cielos encendi√≥ el Sol\nvino a este pueblo con gran amor.\nY all√≠ escondido con blanda voz\ndame, me dice, tu coraz√≥n.\n\n2. Oh due√±o m√≠o, Rey y Se√±or,\nc√≥mo pagarte tan rico don.\nLos que te siguen y oyen tu voz\nla vida eterna tendr√°n, Se√±or." },
        "camino_al_monte": { t: "CAMINO AL MONTE", l: "Se ve un hombre y una cruz\nde tras le siguen gente que le llama Jes√∫s.\n\nCORO:\nNo s√© su nombre, pero no s√©\npor qu√© le crucifican a √âl. (2)\n\n1. Sigue su marcha, como el que sigue al sol\npero no saben que crucifican al Salvador.\nSe apaga el cielo por fin ya todo termin√≥\nsolo el Padre sabe todo lo que el Hijo sufri√≥.\n\n2. Pero no saben que no ser√°\ncomo ellos piensan la realidad\nese buen hombre regresar√°\ny por siempre nunca morir√°." },
        "por_el_trigo_y_la_vid": { t: "POR EL TRIGO Y LA VID", l: "Por el trigo y la vid, que proviene de Ti,\nhoy Se√±or queremos darte gracias.\nPor el vino y el pan que tu mano nos da\nhoy Se√±or queremos darte gracias.\n\nCORO:\nVino y pan convertido por amor\nen tu Cuerpo y Sangre Se√±or, t√∫ eres el pastor real.\nSu presencia viva est√° convertido por amor\nrecibimos la Santa Comuni√≥n.\n\n1. La gracia del Se√±or se derrama,\nel pan que es fortaleza del alma,\nes Cristo en Sacramento de amor.\n\n2. Jes√∫s hoy nos invita a su mesa,\nquien coma de este pan tendr√° vida eterna." },
        "oh_dulce_jesus_mio": { t: "OH DULCE JES√öS M√çO", l: "1. Oh dulce Jes√∫s m√≠o, en mi pecho busca entrar,\nyo te espero, yo te ans√≠o, yo te quiero yo abrazar.\n\n2. Eres t√∫ mi fiel amigo, mi tesoro sin igual,\ny a ti solo quiero amar, oh dulce Jes√∫s m√≠o.\n\n3. Me mostraste tu camino con prodigio sin igual,\nsiendo Dios te hiciste ni√±o y despu√©s te hiciste pan.\n\n4. Hoy en pago yo te entrego cuanto tengo, cuanto soy,\nmi trabajo y mi juego, mi alegr√≠a y mi dolor.\n\n5. Te consagro mi pureza, la preciosa flor de luz,\ny el retrato de tu belleza Rey del Cielo mi Jes√∫s." },
        "oh_senor_delante_de_ti": { t: "OH SE√ëOR DELANTE DE TI", l: "1. Oh Se√±or delante de Ti,\nmis manos abiertas reciben tu Pan.\nOh Se√±or, espiga de amor llenas mi coraz√≥n.\n\nCORO:\nY entre tus manos oh Se√±or,\ngu√°rdanos, gu√°rdanos, danos lo que es amor. (2)\n\n2. Oh Se√±or, sendero de amor,\nmi alma en silencio escucha tu voz.\nOh Se√±or maestro y pastor danos lo que es amor.\n\n3. Oh Se√±or fe y hermandad\nmi pueblo celebra la fiesta pascual.\nOh Se√±or en torno a tu altar sella nuestra amistad." },
        "te_alabo_padre": { t: "TE ALABO OH PADRE", l: "Te alabo oh Padre por este pan,\nfruto de la tierra y del trabajo del hombre.\nTe alabo oh Padre por este vino,\nfruto de la vid y del trabajo del hombre.\n\nCORO:\nTe los presentamos para que se conviertan\nen el Cuerpo y la Sangre de tu Hijo Jes√∫s.\n\n1. Como el pan que estaba disperso por los campos\nse ha unido para formar un solo pan.\nAs√≠ tambi√©n nosotros Se√±or,\nformemos un solo cuerpo en el amor." },
        "mirando_al_cielo": { t: "MIRANDO AL CIELO TRISTE", l: "Mirando al cielo triste estar√°s,\nporque un amigo se te fue.\nMirando al cielo triste estar√°s,\nporque tu hijo ya no est√°.\n\nCORO:\nPero no llores, que √©l vive en Dios,\npero no llores, que √©l ya lleg√≥.\n√âl est√° alegre, √©l est√° en paz,\njunto a Mar√≠a y al Salvador.\n\n1. La muerte no es el fin del camino,\nes solo un paso hacia la luz.\nNos volveremos a ver all√°,\nen la presencia de Jes√∫s." }
    };

    const id = new URLSearchParams(window.location.search).get('id');
    if(id && biblioteca[id]) {
        document.getElementById('titulo').innerText = biblioteca[id].t;
        document.getElementById('letra').innerText = biblioteca[id].l;
        document.title = biblioteca[id].t;
    } else {
        document.getElementById('titulo').innerText = "Canto no encontrado";
        document.getElementById('letra').innerText = "Regresa al men√∫ principal.";
    }

    function bajarPDF() {
        const elemento = document.getElementById('hoja');
        const nombreArchivo = document.getElementById('titulo').innerText;
        const opciones = {
            margin: 0.5,
            filename: nombreArchivo + '.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2 },
            jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
        };
        html2pdf().set(opciones).from(elemento).save();
    }
</script>
</body>
</html>
