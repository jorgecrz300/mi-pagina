<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entrenamiento con Referencia Visual</title>
    <style>
        body {
            margin: 0;
            background-color: #000;
            color: #fff;
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }

        /* Estilos de las "Redes" o Referencias */
        #red-visual {
            position: absolute;
            pointer-events: none; /* No estorba al click */
            display: none;
            z-index: 1;
        }

        .red-voley {
            width: 100%;
            height: 150px;
            border-top: 4px solid #fff;
            border-bottom: 4px solid #fff;
            background-image: linear-gradient(0deg, transparent 24%, rgba(255, 255, 255, .2) 25%, rgba(255, 255, 255, .2) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, .2) 75%, rgba(255, 255, 255, .2) 76%, transparent 77%, transparent), linear-gradient(90deg, transparent 24%, rgba(255, 255, 255, .2) 25%, rgba(255, 255, 255, .2) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, .2) 75%, rgba(255, 255, 255, .2) 76%, transparent 77%, transparent);
            background-size: 30px 30px;
            top: 50%;
            transform: translateY(-50%);
        }

        .red-tennis {
            width: 100%;
            height: 100px;
            border-top: 2px solid #eee;
            background: rgba(255,255,255,0.1);
            bottom: 0;
        }

        .red-basket {
            width: 100px;
            height: 100px;
            border: 5px solid #fff;
            top: 10%;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 0 0 50% 50%;
        }

        .red-futbol {
            width: 60%;
            height: 50%;
            border: 8px solid #fff;
            border-bottom: none;
            bottom: 0;
            left: 20%;
        }

        #interfaz { text-align: center; z-index: 10; background: rgba(0,0,0,0.9); padding: 30px; border-radius: 15px; border: 1px solid #333; }
        #timer { position: absolute; top: 20px; font-size: 28px; color: #f1c40f; display: none; z-index: 10; }
        #objetivo { width: 40px; height: 40px; position: absolute; display: none; border-radius: 50%; z-index: 5; transition: all 0.1s ease-out; }
        select, button { padding: 12px; font-size: 18px; cursor: pointer; margin: 10px; border-radius: 8px; }
        button { background: #2ecc71; color: white; border: none; font-weight: bold; }
    </style>
</head>
<body>

    <div id="timer">TIEMPO: <span id="segundos">60</span>s</div>
    <div id="red-visual"></div>

    <div id="interfaz">
        <h1>Reflejos con Red</h1>
        <p>La red te servirá de guía visual. ¡Concéntrate!</p>
        <select id="categoria">
            <option value="800" data-class="red-futbol" data-color="#3498db">Fútbol (Portería)</option>
            <option value="600" data-class="red-basket" data-color="#e67e22">Básquetbol (Aro)</option>
            <option value="450" data-class="red-voley" data-color="#f1c40f">Voleibol (Red Central)</option>
            <option value="250" data-class="red-tennis" data-color="#2ecc71">Tenis (Red Baja)</option>
        </select>
        <br>
        <button onclick="iniciarPrueba()">EMPEZAR ENTRENAMIENTO</button>
    </div>

    <div id="objetivo"></div>

    <script>
        let tiempoRestante = 60;
        let intervaloMovimiento, intervaloReloj;

        function iniciarPrueba() {
            const selector = document.getElementById('categoria');
            const velocidad = selector.value;
            const claseRed = selector.options[selector.selectedIndex].getAttribute('data-class');
            const color = selector.options[selector.selectedIndex].getAttribute('data-color');
            
            // Configurar Pelota y Red
            const red = document.getElementById('red-visual');
            red.className = claseRed;
            red.style.display = 'block';

            const obj = document.getElementById('objetivo');
            obj.style.backgroundColor = color;
            obj.style.boxShadow = `0 0 20px ${color}`;
            obj.style.display = 'block';

            document.getElementById('interfaz').style.display = 'none';
            document.getElementById('timer').style.display = 'block';
            
            moverPelota();
            intervaloMovimiento = setInterval(moverPelota, velocidad);
            intervaloReloj = setInterval(() => {
                tiempoRestante--;
                document.getElementById('segundos').innerText = tiempoRestante;
                if (tiempoRestante <= 0) finalizarPrueba();
            }, 1000);
        }

        function moverPelota() {
            const obj = document.getElementById('objetivo');
            const x = Math.random() * (window.innerWidth - 60);
            const y = Math.random() * (window.innerHeight - 60);
            obj.style.left = x + 'px';
            obj.style.top = y + 'px';
        }

        function finalizarPrueba() {
            clearInterval(intervaloMovimiento);
            clearInterval(intervaloReloj);
            alert("TIEMPO ACABADO");
            location.reload();
        }
    </script>
</body>
</html>
