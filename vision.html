<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Nishida Reflex Training - Ultra Realistic</title>
    <style>
        body { margin: 0; background: #050505; overflow: hidden; font-family: 'Arial Black', sans-serif; height: 100vh; display: flex; justify-content: center; align-items: center; }
        
        /* Red Realista con Sombra */
        #escenario { position: absolute; width: 100%; height: 100%; display: none; z-index: 1; }
        .red-voley {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 100%; height: 160px; border-top: 5px solid #fff; border-bottom: 5px solid #fff;
            background: repeating-linear-gradient(0deg, transparent, transparent 18px, rgba(255,255,255,0.1) 18px, rgba(255,255,255,0.1) 20px),
                        repeating-linear-gradient(90deg, transparent, transparent 18px, rgba(255,255,255,0.1) 18px, rgba(255,255,255,0.1) 20px);
            background-color: rgba(255,255,255,0.05);
        }

        /* Balón con Estela (Motion Blur) */
        #pelota {
            width: 50px; height: 50px;
            background: url('https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/Volleyball_ball.svg/1024px-Volleyball_ball.svg.png');
            background-size: cover; background-color: #f1c40f;
            position: absolute; border-radius: 50%; display: none; z-index: 5;
            box-shadow: 0 0 15px rgba(241, 196, 15, 0.6);
            transition: all 0.08s linear; /* Movimiento ultra fluido */
        }

        /* UI */
        #menu { text-align: center; z-index: 10; color: white; background: rgba(0,0,0,0.85); padding: 30px; border: 2px solid #f1c40f; border-radius: 15px; }
        button { background: #f1c40f; color: #000; padding: 15px 30px; border: none; font-weight: bold; font-size: 20px; cursor: pointer; border-radius: 5px; }
        #timer { position: absolute; top: 20px; font-size: 40px; color: #f1c40f; display: none; z-index: 10; }
    </style>
</head>
<body>

    <div id="timer">60</div>
    <div id="escenario"><div class="red-voley"></div></div>
    <div id="pelota"></div>

    <div id="menu">
        <h1 style="margin:0">NISHIDA MODE</h1>
        <p>REACCIÓN BAJO PRESIÓN</p>
        <button onclick="iniciar()">RECIBIR SAQUE</button>
    </div>

    <script>
        const pelota = document.getElementById('pelota');
        let tiempo = 60;
        let nishidaInterval;

        function iniciar() {
            document.getElementById('menu').style.display = 'none';
            document.getElementById('escenario').style.display = 'block';
            document.getElementById('timer').style.display = 'block';
            pelota.style.display = 'block';

            // Saque inicial (Efecto de venir hacia ti)
            pelota.style.left = "50%"; pelota.style.top = "50%";
            pelota.style.transform = "scale(0.1)";
            
            setTimeout(() => {
                pelota.style.transition = "transform 0.5s ease-in";
                pelota.style.transform = "scale(6)"; // El balón "estalla" frente a ti
                pelota.style.filter = "blur(2px)";
            }, 100);

            // Iniciar fase de juego frenético
            setTimeout(() => {
                pelota.style.transition = "all 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)";
                pelota.style.filter = "none";
                nishidaInterval = setInterval(moverRealista, 200); // Velocidad Nishida
                reloj();
            }, 700);
        }

        function moverRealista() {
            const x = Math.random() * (window.innerWidth - 100);
            const y = Math.random() * (window.innerHeight - 100);
            
            // Simular profundidad (el balón cambia de tamaño según "donde esté")
            const escala = 0.5 + Math.random() * 1.5;
            
            // Simular desenfoque de movimiento si el salto es muy largo
            pelota.style.filter = "blur(1px)";
            pelota.style.left = x + 'px';
            pelota.style.top = y + 'px';
            pelota.style.transform = `scale(${escala})`;
            
            setTimeout(() => { pelota.style.filter = "none"; }, 50);
        }

        function reloj() {
            const c = setInterval(() => {
                tiempo--;
                document.getElementById('timer').innerText = tiempo;
                if(tiempo <= 0) {
                    clearInterval(c);
                    clearInterval(nishidaInterval);
                    alert("ENTRENAMIENTO COMPLETADO");
                    location.reload();
                }
            }, 1000);
        }
    </script>
</body>
</html>
