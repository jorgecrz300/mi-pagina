<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voley Reflex Pro - Física Real</title>
    <style>
        body { margin: 0; background: #000; color: #fff; font-family: sans-serif; overflow: hidden; height: 100vh; display: flex; justify-content: center; align-items: center; }
        
        /* Escenario y Red */
        #escenario { position: absolute; width: 100%; height: 100%; pointer-events: none; display: none; }
        .red-voley { 
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 90%; height: 140px; border: 2px solid #fff;
            background-image: linear-gradient(white 1px, transparent 1px), linear-gradient(90deg, white 1px, transparent 1px);
            background-size: 20px 20px; background-color: rgba(255,255,255,0.1); z-index: 2;
        }
        .red-voley::before, .red-voley::after { content: ''; position: absolute; width: 12px; height: 500px; background: #555; top: -100px; }
        .red-voley::before { left: -12px; } .red-voley::after { right: -12px; }

        /* Pelota */
        #pelota { 
            width: 50px; height: 50px; background: #f1c40f; position: absolute; 
            border-radius: 50%; display: none; z-index: 5;
            box-shadow: inset -5px -5px 15px rgba(0,0,0,0.5), 0 0 15px #f1c40f;
        }

        /* UI */
        #menu { text-align: center; z-index: 10; background: rgba(20,20,20,0.9); padding: 40px; border-radius: 20px; }
        #timer { position: absolute; top: 20px; font-size: 30px; color: #f1c40f; display: none; }
        button { padding: 15px 30px; font-size: 20px; cursor: pointer; background: #27ae60; color: #fff; border: none; border-radius: 10px; }
    </style>
</head>
<body>

    <div id="timer">01:00</div>
    <div id="escenario"><div class="red-voley"></div></div>
    <div id="pelota"></div>

    <div id="menu">
        <h1>Entrenamiento de Saque</h1>
        <p>Sigue los rebotes y la trayectoria del saque.</p>
        <button onclick="comenzarVoley()">¡INICIAR SAQUE!</button>
    </div>

    <script>
        let posX, posY, velX, velY;
        let gravedad = 0.25; // Fuerza que tira la pelota hacia abajo
        let rebote = -0.85;  // Energía que mantiene al rebotar
        let tiempo = 60;
        let juegoActivo = false;

        const pelota = document.getElementById('pelota');
        const timerTxt = document.getElementById('timer');

        function comenzarVoley() {
            document.getElementById('menu').style.display = 'none';
            document.getElementById('escenario').style.display = 'block';
            pelota.style.display = 'block';
            timerTxt.style.display = 'block';
            
            // Posición inicial (Saque desde un lado)
            posX = 50;
            posY = window.innerHeight - 100;
            velX = 8 + Math.random() * 5; // Velocidad horizontal
            velY = -15 - Math.random() * 5; // Impulso hacia arriba (Saque)
            
            juegoActivo = true;
            loopPrincipal();
            iniciarReloj();
        }

        function loopPrincipal() {
            if (!juegoActivo) return;

            // Aplicar Física
            velY += gravedad;
            posX += velX;
            posY += velY;

            // Rebote Suelo
            if (posY + 50 > window.innerHeight) {
                posY = window.innerHeight - 50;
                velY *= rebote;
            }
            // Rebote Techo
            if (posY < 0) {
                posY = 0;
                velY *= rebote;
            }
            // Rebote Paredes
            if (posX + 50 > window.innerWidth || posX < 0) {
                velX *= -1;
            }

            // Actualizar posición visual
            pelota.style.left = posX + 'px';
            pelota.style.top = posY + 'px';

            requestAnimationFrame(loopPrincipal);
        }

        function iniciarReloj() {
            const intv = setInterval(() => {
                tiempo--;
                timerTxt.innerText = `00:${tiempo < 10 ? '0'+tiempo : tiempo}`;
                if (tiempo <= 0) {
                    clearInterval(intv);
                    juegoActivo = false;
                    alert("TIEMPO ACABADO - Entrenamiento de Saque Completo");
                    location.reload();
                }
            }, 1000);
        }
    </script>
</body>
</html>
