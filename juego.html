<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyber Clicker: Multi-User System</title>
    <style>
        :root { --main-color: #00ff41; --bg-color: #050505; }
        body { background: var(--bg-color); color: var(--main-color); font-family: 'Courier New', monospace; display: flex; flex-direction: column; align-items: center; margin: 0; padding: 20px; user-select: none; }
        
        /* Pantalla de Login */
        #login-overlay { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: #000; z-index: 100; display: flex; flex-direction: column; 
            align-items: center; justify-content: center;
        }
        .login-box { border: 2px solid var(--main-color); padding: 30px; text-align: center; border-radius: 10px; background: #0a0a0a; }
        input { background: #111; color: var(--main-color); border: 1px solid var(--main-color); padding: 10px; margin: 10px; text-align: center; outline: none; }

        /* Interfaz del Juego */
        .header { text-align: center; border: 1px solid var(--main-color); padding: 10px; border-radius: 10px; width: 100%; max-width: 400px; margin-bottom: 10px; }
        #user-display { font-size: 14px; color: #ff00ff; margin-bottom: 5px; }
        #stats { font-size: 30px; font-weight: bold; }
        
        .grid-tienda { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; width: 100%; max-width: 450px; }
        .item { border: 1px solid var(--main-color); padding: 10px; border-radius: 8px; text-align: center; background: rgba(255,255,255,0.03); }
        button { background: var(--main-color); color: black; border: none; padding: 8px; width: 100%; cursor: pointer; font-weight: bold; border-radius: 4px; margin-top: 5px; }
        button:disabled { background: #222; color: #444; }
        .logout-btn { background: #ff3333; color: white; width: auto; padding: 5px 15px; margin-top: 10px; font-size: 10px; }
    </style>
</head>
<body>

    <div id="login-overlay">
        <div class="login-box">
            <h2 style="color: #00ff41;">TERMINAL DE ACCESO</h2>
            <p>INGRESE SU NOMBRE DE HACKER:</p>
            <input type="text" id="username-input" placeholder="Nickname..." maxlength="12">
            <button onclick="login()">CONECTAR</button>
        </div>
    </div>

    <div class="header">
        <div id="user-display">USUARIO: <span id="current-user">---</span></div>
        <div id="stats">ðŸ’° <span id="puntos">0</span> BTC</div>
        <button class="logout-btn" onclick="logout()">DESCONECTAR</button>
    </div>

    <div id="log" style="font-size: 12px; margin: 10px;">ESPERANDO COMANDOS...</div>

    <div class="grid-tienda">
        <div class="item" style="grid-column: span 2; border-color: #ff00ff;">
            <span style="color: #ff00ff;">ðŸŽ° GAMBLING ZONE</span>
            <button style="background: #ff00ff; color: white;" onclick="apostar(50, 200)">Hackeo (50% de ganar 200)</button>
        </div>
        <div class="item">
            <span>PC (+2 clic)</span>
            <button id="btnUp" onclick="comprarUp()">50 BTC</button>
        </div>
        <div class="item">
            <span>BOT (+1/s)</span>
            <button id="btnAuto" onclick="comprarAuto()">150 BTC</button>
        </div>
    </div>

    <script>
        let currentUser = "";
        let data = { puntos: 0, poder: 2, autos: 0 };

        function login() {
            const name = document.getElementById('username-input').value.trim().toUpperCase();
            if (name === "") return alert("Ingrese un nombre");
            
            currentUser = name;
            document.getElementById('current-user').innerText = currentUser;
            document.getElementById('login-overlay').style.display = 'none';

            // Cargar datos especÃ­ficos del usuario
            const savedData = localStorage.getItem('user_' + currentUser);
            if (savedData) {
                data = JSON.parse(savedData);
            } else {
                data = { puntos: 0, poder: 2, autos: 0 };
            }
            actualizar();
        }

        function logout() {
            guardar();
            location.reload();
        }

        function guardar() {
            if (currentUser) {
                localStorage.setItem('user_' + currentUser, JSON.stringify(data));
            }
        }

        function actualizar() {
            document.getElementById('puntos').innerText = Math.floor(data.puntos);
            document.getElementById('btnUp').disabled = data.puntos < 50;
            document.getElementById('btnAuto').disabled = data.puntos < 150;
        }

        // Acciones del juego
        function clickPc() { data.puntos += data.poder; actualizar(); } // Por simplicidad, agreguÃ© el click al fondo o puedes re-agregar la imagen
        window.onclick = function(e) { if(e.target.tagName == "BODY") data.puntos += data.poder; actualizar(); }

        function comprarUp() { if(data.puntos >= 50){ data.puntos -= 50; data.poder += 2; actualizar(); guardar(); } }
        function comprarAuto() { if(data.puntos >= 150){ data.puntos -= 150; data.autos++; actualizar(); guardar(); } }

        function apostar(prob, premio) {
            if(data.puntos < 100) return;
            data.puntos -= 100;
            if(Math.random() * 100 <= prob) {
                data.puntos += premio;
                document.getElementById('log').innerText = "Â¡EXITOSO!";
            } else {
                document.getElementById('log').innerText = "FALLIDO";
            }
            actualizar();
            guardar();
        }

        // Ciclos
        setInterval(() => { if(data.autos > 0){ data.puntos += data.autos; actualizar(); } }, 1000);
        setInterval(guardar, 5000); // Auto-guardado cada 5s

    </script>
</body>
</html>
