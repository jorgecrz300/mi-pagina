<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyber Clicker: Roulette Edition</title>
    <style>
        :root { --main-color: #00ff41; --bg-color: #050505; }
        body { background: var(--bg-color); color: var(--main-color); font-family: 'Courier New', monospace; display: flex; flex-direction: column; align-items: center; margin: 0; padding: 20px; user-select: none; }
        
        #stats { font-size: 32px; margin: 10px 0; font-weight: bold; text-shadow: 0 0 15px var(--main-color); }
        
        /* Contenedor Ruleta */
        .roulette-container {
            width: 250px;
            height: 60px;
            border: 2px solid #ff00ff;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
            background: #111;
            border-radius: 5px;
        }
        .roulette-rail {
            display: flex;
            position: absolute;
            left: 0;
            transition: left 3s cubic-bezier(0.1, 0.7, 1.0, 0.1);
        }
        .slot {
            min-width: 80px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            border-right: 1px solid #222;
        }
        .pointer {
            position: absolute;
            top: 0; left: 50%;
            transform: translateX(-50%);
            width: 4px; height: 100%;
            background: white;
            z-index: 10;
            box-shadow: 0 0 10px white;
        }

        .grid-tienda { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; width: 100%; max-width: 450px; }
        .item { border: 1px solid var(--main-color); padding: 10px; border-radius: 8px; text-align: center; background: rgba(255,255,255,0.03); }
        
        button { background: var(--main-color); color: black; border: none; padding: 8px; width: 100%; cursor: pointer; font-weight: bold; border-radius: 4px; margin-top: 5px; }
        button:disabled { background: #222; color: #444; cursor: not-allowed; }
        
        .btn-gamble { background: #ff00ff; color: white; font-size: 11px; margin-top: 10px;}
        .log { height: 40px; margin: 10px 0; font-weight: bold; text-align: center; }
    </style>
</head>
<body>

    <div id="stats">ðŸ’° <span id="puntos">0</span> BTC</div>
    
    <div id="log">SISTEMA LISTO</div>

    <div class="roulette-container">
        <div class="pointer"></div>
        <div class="roulette-rail" id="rail">
            </div>
    </div>

    <div class="grid-tienda">
        <div class="item" style="grid-column: span 2; border-color: #ff00ff;">
            <span style="color: #ff00ff;">ðŸŽ° TERMINAL DE APUESTAS (Costo: 100)</span>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 5px;">
                <button class="btn-gamble" onclick="jugar(70, 10)">Gana 10 (70%)</button>
                <button class="btn-gamble" onclick="jugar(20, 50)">Gana 50 (20%)</button>
                <button class="btn-gamble" onclick="jugar(10, 100)">Gana 100 (10%)</button>
                <button class="btn-gamble" onclick="jugar(0.1, 1000)">EL GORDO (0.1%)</button>
            </div>
        </div>

        <div class="item">
            <span>PC HACKER (+2)</span>
            <button id="btnUp" onclick="comprarUp()">50 BTC</button>
        </div>
        <div class="item">
            <span>BOT AFK (+1/s)</span>
            <button id="btnAuto" onclick="comprarAuto()">150 BTC</button>
        </div>
    </div>

    <script>
        let puntos = parseInt(localStorage.getItem('puntos_save')) || 0;
        let poder = parseInt(localStorage.getItem('poder_save')) || 1;
        let autos = parseInt(localStorage.getItem('auto_save')) || 0;
        let girando = false;

        function actualizar() {
            document.getElementById('puntos').innerText = Math.floor(puntos);
            document.getElementById('btnUp').disabled = puntos < 50;
            document.getElementById('btnAuto').disabled = puntos < 150;
        }

        function jugar(prob, premio) {
            if (girando || puntos < 100) return;
            puntos -= 100;
            girando = true;
            actualizar();

            const rail = document.getElementById('rail');
            const log = document.getElementById('log');
            rail.style.transition = "none";
            rail.style.left = "0px";
            
            // Generar slots aleatorios para la animaciÃ³n
            rail.innerHTML = '';
            for(let i=0; i<40; i++) {
                const s = document.createElement('div');
                s.className = 'slot';
                s.style.color = Math.random() > 0.5 ? "#ff00ff" : "#00ff41";
                s.innerText = "HACK";
                rail.appendChild(s);
            }

            // Decidir resultado
            const exito = (Math.random() * 100) <= prob;
            
            setTimeout(() => {
                rail.style.transition = "left 3s cubic-bezier(0.1, 0.7, 0.1, 1)";
                // Mover a una posiciÃ³n que visualmente parezca azarosa
                rail.style.left = "-2500px"; 
            }, 50);

            setTimeout(() => {
                girando = false;
                if(exito) {
                    puntos += premio;
                    log.innerText = "Â¡EXITOSO! +" + premio;
                    log.style.color = "#00ff41";
                } else {
                    log.innerText = "HACKEO FALLIDO";
                    log.style.color = "#ff3333";
                }
                actualizar();
            }, 3050);
        }

        // Funciones bÃ¡sicas
        function comprarUp() { if(puntos>=50){ puntos-=50; poder+=2; actualizar(); } }
        function comprarAuto() { if(puntos>=150){ puntos-=150; autos++; actualizar(); } }

        setInterval(() => { if(autos>0){ puntos+=autos; actualizar(); } }, 1000);
        setInterval(() => {
            localStorage.setItem('puntos_save', puntos);
            localStorage.setItem('auto_save', autos);
            localStorage.setItem('poder_save', poder);
        }, 2000);

        actualizar();
    </script>
</body>
</html>
